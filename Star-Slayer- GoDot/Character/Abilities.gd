extends Node

# holds all the directions to matrix (if top right of playere what places should be hit)
var abilities_matrix = {
	"whip": {
		0: [
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		1:[
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		2: [
			[0,0,0,0,0,0,1],
			[0,0,0,0,0,1,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		3: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,1,1],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		4: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,1]
		],
		5: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0]
		],
		6: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,1,0,0,0,0,0],
			[1,0,0,0,0,0,0]
		],
		7: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[1,1,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		8: [
			[1,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
	},
	"flame_throwing": {
		0: [
			[0,0,0,0,0,0,0],
			[0,0,1,1,1,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		1:[
			[0,0,0,0,0,0,0],
			[0,0,1,1,1,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		2: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,1,0],
			[0,0,0,0,1,1,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		3: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,1,1,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		4: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,1,0],
			[0,0,0,0,1,1,0],
			[0,0,0,0,0,0,0]
		],
		5: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,1,1,1,0,0],
			[0,0,0,0,0,0,0]
		],
		6: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,1,1,0,0,0,0],
			[0,1,1,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		7: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,1,1,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		8: [
			[0,0,0,0,0,0,0],
			[0,1,1,0,0,0,0],
			[0,1,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		},
		"lightning": {
		0: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		1:[
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		2: [
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,1,0,0],
			[1,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,0]
		],
		3: [
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[1,0,0,0,0,1,0],
			[0,0,0,0,0,0,0]
		],
		4: [
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0]
		],
		5: [
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,1],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		6: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		7: [
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		8: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,1,0,0]
		],
		},
		"golden_butter_knife": {
		0: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		1:[
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		2: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		3: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		4: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		5: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		6: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		7: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		8: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		},
		"health_potion": {
		0: [
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		1:[
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		2: [
			[0,0,0,0,0,0,1],
			[0,0,0,0,0,1,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		3: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,1,1],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		4: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,1,0,0],
			[0,0,0,0,0,1,0],
			[0,0,0,0,0,0,1]
		],
		5: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0],
			[0,0,0,1,0,0,0]
		],
		6: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,1,0,0,0,0,0],
			[1,0,0,0,0,0,0]
		],
		7: [
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[1,1,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
		8: [
			[1,0,0,0,0,0,0],
			[0,1,0,0,0,0,0],
			[0,0,1,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0]
		],
	}
	}


# converts the given distance x and y to be the correct corresponding ability matrix
func _get_ability_matrix(ability, dist_x, dist_y):
	if dist_x == -1 and dist_y == -1:
		return abilities_matrix[ability][8]
	elif dist_x == 0 and dist_y == -1:
		return abilities_matrix[ability][0]
	elif dist_x == 1 and dist_y == -1:
		return abilities_matrix[ability][2]
	elif dist_x == -1 and dist_y == 0:
		return abilities_matrix[ability][7]
	elif dist_x == 1 and dist_y == 0:
		return abilities_matrix[ability][3]
	elif dist_x == -1 and dist_y == 1:
		return abilities_matrix[ability][6]
	elif dist_x == 0 and dist_y == 1:
		return abilities_matrix[ability][5]
	elif dist_x == 1 and dist_y == 1:
		return abilities_matrix[ability][4]
	else:
		return abilities_matrix[ability][0]  # Default case

# external get the ability matrix used to grab the animation matrix
func get_ability_matrix_external(ability, dist_x, dist_y):
	# pass the selected tile relative to the player and get the matrix for that ability given that tile directions relative to the player
	var matrix = _get_ability_matrix(ability, dist_x, dist_y)
	return matrix
